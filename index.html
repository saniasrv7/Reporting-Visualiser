<!DOCTYPE html>
<html lang="en-GB">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Weekly Reporting: Before and After Automation ‚ú¶ Sania Srivastava</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,400;0,600;1,300;1,400&family=Bricolage+Grotesque:opsz,wght@12..96,300;12..96,400;12..96,600;12..96,700;12..96,800&family=DM+Mono:wght@300;400;500&display=swap" rel="stylesheet">
<style>
:root{
  --sand:#F5EFE6;--sand2:#EDE4D7;--sand3:#E0D5C5;--sand4:#D4C5B0;
  --bark:#7C6A55;--ink:#1C1814;--ink2:#2D2720;--soft:#5C5044;--muted:#9C8E80;
  --pop:#FF5C3A;--pop2:#FFB347;--bloom:#C084FC;--sky:#7DD3FC;--sage:#6EE7B7;
  --red:#EF4444;--amber:#F59E0B;--green:#10B981;--blue:#3B82F6;
  --border:rgba(124,106,85,0.15);--card:rgba(255,255,255,0.7);
}
*,*::before,*::after{margin:0;padding:0;box-sizing:border-box;}
html{scroll-behavior:smooth;}
body{font-family:'Bricolage Grotesque',sans-serif;background:var(--sand);color:var(--ink);overflow-x:hidden;}
body::before{content:'';position:fixed;inset:0;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='300' height='300'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.75' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='300' height='300' filter='url(%23n)' opacity='0.03'/%3E%3C/svg%3E");pointer-events:none;z-index:999;}

.mesh{position:fixed;inset:0;pointer-events:none;z-index:0;overflow:hidden;}
.mc{position:absolute;border-radius:50%;mix-blend-mode:multiply;animation:drift linear infinite;}
.mc1{width:500px;height:500px;background:radial-gradient(circle,#FBBF2440,transparent 70%);top:-150px;right:-100px;animation-duration:45s;opacity:0.5;}
.mc2{width:400px;height:400px;background:radial-gradient(circle,#C084FC30,transparent 70%);bottom:-100px;left:-80px;animation-duration:38s;animation-direction:reverse;opacity:0.4;}
@keyframes drift{0%,100%{transform:translate(0,0) scale(1);}50%{transform:translate(30px,-40px) scale(1.06);}}
@keyframes flowGrad{0%{background-position:0% 50%;}100%{background-position:300% 50%;}}
@keyframes enterUp{from{opacity:0;transform:translateY(28px);}to{opacity:1;transform:translateY(0);}}
@keyframes slideIn{from{opacity:0;transform:translateX(-20px);}to{opacity:1;transform:translateX(0);}}
@keyframes pop{0%{transform:scale(0.8);opacity:0;}70%{transform:scale(1.05);}100%{transform:scale(1);opacity:1;}}
@keyframes shimmer{0%{left:-100%;}100%{left:200%;}}
@keyframes pulse2{0%,100%{box-shadow:0 0 0 0 rgba(255,92,58,0.3);}50%{box-shadow:0 0 0 8px rgba(255,92,58,0);}}
@keyframes drawLine{from{stroke-dashoffset:1000;}to{stroke-dashoffset:0;}}

nav{position:sticky;top:0;z-index:100;padding:18px 48px;display:flex;justify-content:space-between;align-items:center;background:rgba(245,239,230,0.9);backdrop-filter:blur(24px);border-bottom:1px solid var(--border);}
.nav-logo{font-family:'DM Mono',monospace;font-size:13px;letter-spacing:2px;text-transform:uppercase;color:var(--bark);text-decoration:none;}
.nav-back{font-family:'DM Mono',monospace;font-size:11px;letter-spacing:2px;text-transform:uppercase;color:var(--muted);text-decoration:none;transition:color 0.2s;}
.nav-back:hover{color:var(--pop);}

.wrap{position:relative;z-index:1;max-width:1280px;margin:0 auto;padding:56px 40px 120px;}

/* HERO */
.hero{margin-bottom:56px;animation:enterUp 0.9s cubic-bezier(0.16,1,0.3,1) both;}
.eyebrow{font-family:'DM Mono',monospace;font-size:11px;letter-spacing:3px;text-transform:uppercase;color:var(--muted);margin-bottom:20px;display:flex;align-items:center;gap:12px;}
.eyebrow::before,.eyebrow::after{content:'';flex:1;height:1px;background:var(--border);}
.hero h1{font-family:'Cormorant Garamond',serif;font-size:clamp(38px,5.5vw,72px);font-weight:300;line-height:1.05;letter-spacing:-0.02em;margin-bottom:16px;}
.hero h1 em{font-style:italic;color:var(--pop);}
.hero-sub{font-size:17px;font-weight:300;color:var(--soft);max-width:680px;line-height:1.8;margin-bottom:32px;}
.color-strip{height:4px;background:linear-gradient(90deg,var(--pop),var(--pop2),var(--bloom),var(--sky));background-size:300% 100%;animation:flowGrad 5s linear infinite;border-radius:100px;}

/* TOGGLE */
.toggle-wrap{display:flex;align-items:center;gap:0;margin-bottom:40px;background:var(--sand2);border-radius:20px;padding:6px;width:fit-content;}
.toggle-btn{font-family:'DM Mono',monospace;font-size:12px;letter-spacing:1.5px;text-transform:uppercase;padding:14px 36px;border-radius:14px;border:none;background:transparent;color:var(--muted);cursor:pointer;transition:all 0.35s cubic-bezier(0.34,1.56,0.64,1);white-space:nowrap;}
.toggle-btn.active{color:white;box-shadow:0 4px 16px rgba(28,24,20,0.15);}
.toggle-btn.before.active{background:var(--red);}
.toggle-btn.after.active{background:var(--green);}

/* IMPACT BAR */
.impact-bar{display:grid;grid-template-columns:repeat(4,1fr);gap:16px;margin-bottom:40px;}
.impact-tile{background:var(--card);backdrop-filter:blur(20px);border:1px solid var(--border);border-radius:22px;padding:24px 20px;text-align:center;transition:all 0.4s cubic-bezier(0.34,1.56,0.64,1);position:relative;overflow:hidden;}
.impact-tile::before{content:'';position:absolute;top:0;left:0;right:0;height:3px;border-radius:100px 100px 0 0;}
.it1::before{background:var(--red);}
.it2::before{background:var(--amber);}
.it3::before{background:var(--green);}
.it4::before{background:var(--blue);}
.impact-tile:hover{transform:translateY(-5px);box-shadow:0 16px 36px rgba(28,24,20,0.08);}
.impact-num{font-family:'Cormorant Garamond',serif;font-size:44px;font-weight:300;line-height:1;margin-bottom:6px;transition:all 0.5s;}
.impact-label{font-family:'DM Mono',monospace;font-size:10px;letter-spacing:2px;text-transform:uppercase;color:var(--muted);margin-bottom:8px;}
.impact-context{font-size:12px;font-weight:300;color:var(--soft);line-height:1.5;transition:all 0.5s;}

/* SWIMLANE CONTAINER */
.swimlane-outer{background:var(--card);backdrop-filter:blur(24px);border:1px solid var(--border);border-radius:28px;overflow:hidden;box-shadow:0 24px 56px rgba(28,24,20,0.06);}

.sl-header{padding:28px 40px;border-bottom:1px solid var(--border);display:flex;justify-content:space-between;align-items:center;}
.sl-title{font-family:'Cormorant Garamond',serif;font-size:28px;font-weight:400;}
.sl-title.bad{color:#9B1C1C;}
.sl-title.good{color:#065F46;}
.sl-meta{font-family:'DM Mono',monospace;font-size:11px;letter-spacing:2px;text-transform:uppercase;color:var(--muted);}

/* TIME AXIS */
.time-axis{display:grid;padding:0 0 0 200px;border-bottom:1px solid var(--border);background:rgba(28,24,20,0.02);}
.time-cell{padding:12px 0;font-family:'DM Mono',monospace;font-size:10px;letter-spacing:1.5px;text-transform:uppercase;color:var(--muted);border-left:1px dashed var(--border);padding-left:10px;}

/* SWIMLANE */
.swimlane{display:flex;border-bottom:1px solid var(--border);min-height:110px;position:relative;transition:background 0.3s;}
.swimlane:last-child{border-bottom:none;}
.swimlane:hover{background:rgba(28,24,20,0.015);}
.lane-label{width:200px;flex-shrink:0;padding:20px 24px;border-right:1px solid var(--border);display:flex;flex-direction:column;justify-content:center;gap:6px;background:rgba(255,255,255,0.4);}
.lane-role{font-family:'Bricolage Grotesque',sans-serif;font-size:14px;font-weight:700;color:var(--ink);}
.lane-system{font-family:'DM Mono',monospace;font-size:10px;letter-spacing:1px;text-transform:uppercase;color:var(--muted);}
.lane-icon{font-size:20px;margin-bottom:4px;}
.lane-body{flex:1;position:relative;padding:12px 8px;}

/* TASK BLOCKS */
.task{position:absolute;border-radius:12px;padding:8px 12px;cursor:pointer;transition:all 0.3s cubic-bezier(0.34,1.56,0.64,1);border:1.5px solid;top:50%;transform:translateY(-50%);}
.task:hover{transform:translateY(calc(-50% - 4px));box-shadow:0 12px 28px rgba(28,24,20,0.12);z-index:10;}
.task-name{font-family:'Bricolage Grotesque',sans-serif;font-size:11px;font-weight:700;line-height:1.3;margin-bottom:3px;}
.task-dur{font-family:'DM Mono',monospace;font-size:9px;letter-spacing:1px;opacity:0.7;}
.task-pain{position:absolute;top:-8px;right:-8px;font-size:14px;animation:pulse2 2s ease-in-out infinite;}

/* TASK TYPES */
.task-manual{background:#FEE2E2;border-color:#EF4444;color:#9B1C1C;}
.task-wait{background:#FEF3C7;border-color:#F59E0B;color:#92400E;border-style:dashed;}
.task-decision{background:#F3E8FF;border-color:#C084FC;color:#5B21B6;}
.task-auto{background:#D1FAE5;border-color:#10B981;color:#065F46;}
.task-instant{background:#DBEAFE;border-color:#3B82F6;color:#1E40AF;}
.task-system{background:#E0E7FF;border-color:#6366F1;color:#3730A3;}

/* CONNECTOR LINES - SVG overlay */
.connector-svg{position:absolute;inset:0;pointer-events:none;z-index:5;}

/* HANDOFF MARKERS */
.handoff{position:absolute;width:2px;top:0;bottom:0;background:repeating-linear-gradient(to bottom,var(--pop) 0px,var(--pop) 6px,transparent 6px,transparent 12px);opacity:0.25;z-index:1;}

/* ANNOTATION */
.annotation{position:absolute;background:var(--ink);color:var(--sand);border-radius:10px;padding:6px 10px;font-family:'DM Mono',monospace;font-size:9px;letter-spacing:1px;white-space:nowrap;z-index:20;pointer-events:none;}
.annotation::after{content:'';position:absolute;bottom:-5px;left:12px;width:10px;height:10px;background:var(--ink);clip-path:polygon(0 0,100% 0,50% 100%);}

/* PAIN LEGEND */
.legend-row{display:flex;gap:20px;flex-wrap:wrap;padding:20px 40px;border-top:1px solid var(--border);background:rgba(28,24,20,0.02);}
.legend-item{display:flex;align-items:center;gap:8px;font-family:'DM Mono',monospace;font-size:10px;letter-spacing:1px;text-transform:uppercase;color:var(--muted);}
.legend-swatch{width:28px;height:14px;border-radius:4px;border:1.5px solid;}

/* INSIGHT CARDS */
.insights{display:grid;grid-template-columns:1fr 1fr 1fr;gap:20px;margin-top:32px;}
.insight-card{background:var(--card);backdrop-filter:blur(20px);border:1px solid var(--border);border-radius:22px;padding:28px;transition:all 0.4s cubic-bezier(0.34,1.56,0.64,1);position:relative;overflow:hidden;}
.insight-card:hover{transform:translateY(-6px);box-shadow:0 20px 40px rgba(28,24,20,0.08);}
.insight-card::before{content:'';position:absolute;top:0;left:0;right:0;height:3px;}
.ic-red::before{background:var(--red);}
.ic-amber::before{background:var(--amber);}
.ic-green::before{background:var(--green);}
.insight-num{font-family:'Cormorant Garamond',serif;font-size:56px;font-weight:300;line-height:1;margin-bottom:8px;}
.ic-red .insight-num{color:var(--red);}
.ic-amber .insight-num{color:var(--amber);}
.ic-green .insight-num{color:var(--green);}
.insight-title{font-family:'Bricolage Grotesque',sans-serif;font-size:16px;font-weight:700;margin-bottom:8px;color:var(--ink);}
.insight-body{font-size:14px;font-weight:300;color:var(--soft);line-height:1.7;}

/* DECISION TABLE */
.dec-table-wrap{margin-top:32px;background:var(--card);backdrop-filter:blur(24px);border:1px solid var(--border);border-radius:28px;overflow:hidden;box-shadow:0 24px 56px rgba(28,24,20,0.06);}
.dt-header{padding:28px 40px;border-bottom:1px solid var(--border);}
.dt-header h3{font-family:'Cormorant Garamond',serif;font-size:32px;font-weight:400;margin-bottom:6px;}
.dt-header p{font-size:14px;font-weight:300;color:var(--soft);}
table{width:100%;border-collapse:collapse;}
thead{background:rgba(28,24,20,0.04);}
th{font-family:'DM Mono',monospace;font-size:10px;letter-spacing:2px;text-transform:uppercase;color:var(--muted);padding:14px 20px;text-align:left;border-bottom:1px solid var(--border);}
td{padding:16px 20px;border-bottom:1px solid rgba(124,106,85,0.08);font-size:13px;vertical-align:top;}
tr:last-child td{border-bottom:none;}
tr:hover td{background:rgba(28,24,20,0.015);}
.td-trigger{font-family:'DM Mono',monospace;font-size:11px;color:var(--bark);font-weight:500;}
.td-condition{color:var(--soft);font-weight:300;line-height:1.6;}
.td-action{font-weight:600;color:var(--ink);line-height:1.5;}
.td-owner{font-family:'DM Mono',monospace;font-size:10px;letter-spacing:1px;text-transform:uppercase;padding:4px 10px;border-radius:100px;display:inline-block;white-space:nowrap;}
.own-sys{background:rgba(59,130,246,0.1);color:#1D4ED8;}
.own-human{background:rgba(245,158,11,0.1);color:#B45309;}
.own-auto{background:rgba(16,185,129,0.1);color:#065F46;}
.td-sla{font-family:'DM Mono',monospace;font-size:11px;}
.sla-fast{color:var(--green);}
.sla-slow{color:var(--red);}

/* TOOLTIP */
.task-tooltip{position:fixed;background:var(--ink);color:white;border-radius:16px;padding:16px 20px;max-width:260px;z-index:500;pointer-events:none;opacity:0;transition:opacity 0.2s;box-shadow:0 16px 40px rgba(28,24,20,0.2);}
.task-tooltip.show{opacity:1;}
.tt-title{font-family:'Bricolage Grotesque',sans-serif;font-weight:700;font-size:14px;margin-bottom:8px;color:var(--pop2);}
.tt-body{font-family:'DM Mono',monospace;font-size:11px;color:rgba(255,255,255,0.65);line-height:1.7;}
.tt-tag{display:inline-block;margin-top:8px;padding:4px 10px;border-radius:100px;font-size:10px;letter-spacing:1px;text-transform:uppercase;}
.tt-waste{background:rgba(239,68,68,0.2);color:#FCA5A5;}
.tt-wait{background:rgba(245,158,11,0.2);color:#FCD34D;}
.tt-value{background:rgba(16,185,129,0.2);color:#6EE7B7;}

@media(max-width:900px){
  .impact-bar{grid-template-columns:1fr 1fr;}
  .insights{grid-template-columns:1fr;}
  .wrap{padding:32px 16px 80px;}
  nav{padding:14px 20px;}
  .lane-label{width:120px;padding:12px;}
  .time-axis{padding-left:120px;}
}
</style>
</head>
<body>

<div class="mesh"><div class="mc mc1"></div><div class="mc mc2"></div></div>

<nav>
  <a href="/" class="nav-logo">Sania Srivastava</a>
  <a href="/" class="nav-back">Back to portfolio</a>
</nav>

<div class="wrap">

  <!-- HERO -->
  <div class="hero">
    <div class="eyebrow">Process Analysis ‚ú¶ Solutions Specialist</div>
    <h1>The <em>Monday Morning</em> Report<br>Nobody Wants to Write</h1>
    <p class="hero-sub">A swimlane analysis of weekly reporting: how it actually works today, where time disappears, who gets blocked, and what an automated version looks like. Built from real patterns across enterprise clients.</p>
    <div class="color-strip"></div>
  </div>

  <!-- TOGGLE -->
  <div class="toggle-wrap">
    <button class="toggle-btn before active" onclick="setView('before',this)">Before: Manual Process</button>
    <button class="toggle-btn after" onclick="setView('after',this)">After: Automated Pipeline</button>
  </div>

  <!-- IMPACT BAR -->
  <div class="impact-bar" id="impact-bar">
    <div class="impact-tile it1">
      <div class="impact-label">Time to produce report</div>
      <div class="impact-num" id="imp1" style="color:var(--red)">6.5h</div>
      <div class="impact-context" id="imp1c">Spread across Monday morning, blocking two people</div>
    </div>
    <div class="impact-tile it2">
      <div class="impact-label">Manual handoffs</div>
      <div class="impact-num" id="imp2" style="color:var(--amber)">9</div>
      <div class="impact-context" id="imp2c">Each one a point of delay, error, or dropped context</div>
    </div>
    <div class="impact-tile it3">
      <div class="impact-label">Data freshness on delivery</div>
      <div class="impact-num" id="imp3" style="color:var(--red)">18h</div>
      <div class="impact-context" id="imp3c">Data already 18 hrs old when the report lands</div>
    </div>
    <div class="impact-tile it4">
      <div class="impact-label">Error rate</div>
      <div class="impact-num" id="imp4" style="color:var(--red)">1 in 4</div>
      <div class="impact-context" id="imp4c">Reports contain at least one error requiring correction</div>
    </div>
  </div>

  <!-- SWIMLANE BOARD -->
  <div class="swimlane-outer" id="swimlane-board">
    <div class="sl-header">
      <div id="sl-title" class="sl-title bad">Current State: Manual Weekly Report</div>
      <div id="sl-meta" class="sl-meta">Monday 07:00 to 13:30 ‚ú¶ Click any block to inspect</div>
    </div>

    <!-- TIME AXIS -->
    <div class="time-axis" id="time-axis" style="grid-template-columns:repeat(7,1fr);">
      <div class="time-cell">07:00</div>
      <div class="time-cell">08:00</div>
      <div class="time-cell">09:00</div>
      <div class="time-cell">10:00</div>
      <div class="time-cell">11:00</div>
      <div class="time-cell">12:00</div>
      <div class="time-cell">13:00</div>
    </div>

    <!-- LANES -->
    <div id="lanes-container"></div>

    <!-- LEGEND -->
    <div class="legend-row" id="legend-row">
      <div class="legend-item"><div class="legend-swatch" style="background:#FEE2E2;border-color:#EF4444"></div>Manual task</div>
      <div class="legend-item"><div class="legend-swatch" style="background:#FEF3C7;border-color:#F59E0B;border-style:dashed"></div>Waiting / blocked</div>
      <div class="legend-item"><div class="legend-swatch" style="background:#F3E8FF;border-color:#C084FC"></div>Decision / review</div>
      <div class="legend-item"><div class="legend-swatch" style="background:#D1FAE5;border-color:#10B981"></div>Automated</div>
      <div class="legend-item"><div class="legend-swatch" style="background:#DBEAFE;border-color:#3B82F6"></div>Integration / API</div>
    </div>
  </div>

  <!-- INSIGHT CARDS -->
  <div class="insights" id="insight-cards">
    <div class="insight-card ic-red">
      <div class="insight-num" id="ins1n">9</div>
      <div class="insight-title" id="ins1t">Manual handoffs</div>
      <div class="insight-body" id="ins1b">Each time data moves between a person and a system, or between people, context is lost, errors can enter, and time is consumed chasing confirmation.</div>
    </div>
    <div class="insight-card ic-amber">
      <div class="insight-num" id="ins2n">3</div>
      <div class="insight-title" id="ins2t">Systems no one talks to each other</div>
      <div class="insight-body" id="ins2b">CRM, finance system, and ops dashboard all hold pieces of the same story. None of them share data automatically. A person has to be the connector.</div>
    </div>
    <div class="insight-card ic-green">
      <div class="insight-num" id="ins3n">0</div>
      <div class="insight-title" id="ins3t">Hours of strategic value added</div>
      <div class="insight-body" id="ins3b">Of the 6.5 hours spent producing the report, almost none involves analysis or judgment. It is assembly work. That is what automation is for.</div>
    </div>
  </div>

  <!-- DECISION TABLE -->
  <div class="dec-table-wrap">
    <div class="dt-header">
      <h3>Automation Decision Table</h3>
      <p>Structured business rules that govern what happens at each trigger point in the automated pipeline. This is the logic that replaces 6.5 hours of manual work.</p>
    </div>
    <table>
      <thead>
        <tr>
          <th>Trigger</th>
          <th>Condition</th>
          <th>Action</th>
          <th>Owner</th>
          <th>SLA</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><span class="td-trigger">SCHEDULE: Sunday 23:00</span></td>
          <td class="td-condition">Weekly cron job fires regardless of holidays or manual intervention</td>
          <td class="td-action">Pipeline initialises, data extraction begins across all three source systems simultaneously</td>
          <td><span class="td-owner own-sys">System</span></td>
          <td><span class="td-sla sla-fast">Instant</span></td>
        </tr>
        <tr>
          <td><span class="td-trigger">DATA EXTRACT: CRM</span></td>
          <td class="td-condition">Pull all closed deals, pipeline changes, and activity logs from the past 7 days</td>
          <td class="td-action">API call to CRM, response validated against schema. If fields missing, flag to error log and use last-known-good value</td>
          <td><span class="td-owner own-sys">System</span></td>
          <td><span class="td-sla sla-fast">&lt; 30s</span></td>
        </tr>
        <tr>
          <td><span class="td-trigger">DATA EXTRACT: Finance</span></td>
          <td class="td-condition">Pull revenue actuals, budget variance, and cost centre spend for the week</td>
          <td class="td-action">API call to finance system. Currency normalisation applied. Variance calculated automatically against budget baseline</td>
          <td><span class="td-owner own-sys">System</span></td>
          <td><span class="td-sla sla-fast">&lt; 45s</span></td>
        </tr>
        <tr>
          <td><span class="td-trigger">VALIDATION: Threshold check</span></td>
          <td class="td-condition">Any metric has moved more than ¬±15% week on week</td>
          <td class="td-action">Flag metric as ANOMALY, append commentary prompt to report section, notify analyst via Slack with specific metric name and delta</td>
          <td><span class="td-owner own-auto">Automated + Analyst</span></td>
          <td><span class="td-sla sla-fast">&lt; 1 min</span></td>
        </tr>
        <tr>
          <td><span class="td-trigger">VALIDATION: Data completeness</span></td>
          <td class="td-condition">Any required field is null or outside expected range</td>
          <td class="td-action">Block report generation. Alert data owner with specific field name, expected range, and current value. Retry after 30 mins</td>
          <td><span class="td-owner own-human">Data Owner</span></td>
          <td><span class="td-sla sla-slow">30 min SLA</span></td>
        </tr>
        <tr>
          <td><span class="td-trigger">GENERATE: Report assembly</span></td>
          <td class="td-condition">All required data present and validation passed</td>
          <td class="td-action">Template populated with live data. Charts rendered. Narrative placeholders inserted for anomaly sections. PDF generated</td>
          <td><span class="td-owner own-sys">System</span></td>
          <td><span class="td-sla sla-fast">&lt; 2 min</span></td>
        </tr>
        <tr>
          <td><span class="td-trigger">REVIEW: Analyst check</span></td>
          <td class="td-condition">Report contains one or more ANOMALY flags</td>
          <td class="td-action">Analyst receives Slack notification with pre-filled commentary draft. Reviews anomaly section only. Approves or edits, triggers final send</td>
          <td><span class="td-owner own-human">Analyst</span></td>
          <td><span class="td-sla sla-slow">15 min SLA</span></td>
        </tr>
        <tr>
          <td><span class="td-trigger">DISTRIBUTE: Auto-send</span></td>
          <td class="td-condition">Report approved OR no anomaly flags present</td>
          <td class="td-action">Report distributed to distribution list via email. Slack summary posted to #weekly-report channel. Dashboard updated with latest figures</td>
          <td><span class="td-owner own-sys">System</span></td>
          <td><span class="td-sla sla-fast">Instant</span></td>
        </tr>
        <tr>
          <td><span class="td-trigger">AUDIT: Log entry</span></td>
          <td class="td-condition">Every execution, success or failure</td>
          <td class="td-action">Full audit trail written: run timestamp, data freshness, validation results, anomalies flagged, distribution list, analyst reviewer if applicable</td>
          <td><span class="td-owner own-sys">System</span></td>
          <td><span class="td-sla sla-fast">Instant</span></td>
        </tr>
      </tbody>
    </table>
  </div>

</div>

<div class="task-tooltip" id="tooltip"></div>

<script>
/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   DATA
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
const BEFORE = {
  title: 'Current State: Manual Weekly Report',
  meta: 'Monday 07:00 to 13:30 ‚ú¶ Click any block to inspect',
  titleClass: 'bad',
  cols: 7,
  colLabels: ['07:00','08:00','09:00','10:00','11:00','12:00','13:00'],
  totalWidth: 7,
  impacts: [
    { num:'6.5h', color:'var(--red)', ctx:'Spread across Monday morning, blocking two people' },
    { num:'9', color:'var(--amber)', ctx:'Each one a point of delay, error, or dropped context' },
    { num:'18h', color:'var(--red)', ctx:'Data already 18 hrs old when the report lands' },
    { num:'1 in 4', color:'var(--red)', ctx:'Reports contain at least one error requiring correction' },
  ],
  insights: [
    { n:'9', t:'Manual handoffs', b:'Each time data moves between a person and a system, or between people, context is lost, errors can enter, and time is consumed chasing confirmation.' },
    { n:'3', t:'Systems that never talk to each other', b:'CRM, finance system, and ops dashboard all hold pieces of the same story. None share data automatically. A person has to be the connector.' },
    { n:'0', t:'Hours of strategic value added', b:'Of the 6.5 hours spent producing the report, almost none involves analysis or judgment. It is assembly work. That is what automation is for.' },
  ],
  lanes: [
    {
      role: 'Analyst',
      system: 'Manual + Excel',
      icon: 'üë§',
      tasks: [
        { name:'Pull CRM export', type:'manual', start:0, dur:0.5, pain:'üí¢',
          info:'Opens CRM, filters past 7 days, exports CSV. Re-opens when export fails (it always fails once). 30-45 min task.', tag:'waste', tagLabel:'Pure assembly' },
        { name:'Reformat CRM data', type:'manual', start:0.6, dur:0.7, pain:'üí¢',
          info:'Exported CSV has wrong date format, merged name columns, currency as symbol not code. Manually reformatted in Excel before it can be used.', tag:'waste', tagLabel:'Rework' },
        { name:'WAITING for finance data', type:'wait', start:1.5, dur:1.2,
          info:'Finance team runs their own extract. Analyst has no visibility into progress. Chases via Slack at 08:45, 09:15, and 09:40.', tag:'wait', tagLabel:'Blocked' },
        { name:'Merge datasets', type:'manual', start:2.8, dur:0.8, pain:'‚ö†Ô∏è',
          info:'Three spreadsheets open. Manual VLOOKUP to join on customer ID, which is formatted differently in each system. High error risk.', tag:'waste', tagLabel:'Error prone' },
        { name:'Build charts', type:'manual', start:3.7, dur:0.9,
          info:'Charts manually recreated each week. Copy-paste from last week, update the data range. Formatting drift accumulates over time.', tag:'waste', tagLabel:'Repetitive' },
        { name:'Write commentary', type:'decision', start:4.7, dur:0.7,
          info:'The one part that requires judgment. Often rushed because the rest of the morning was consumed by data wrangling.', tag:'value', tagLabel:'Actual value' },
        { name:'Send for review', type:'manual', start:5.5, dur:0.2,
          info:'Emails draft to manager. Awaits response. Average review turnaround is 45 mins.', tag:'wait', tagLabel:'Handoff' },
      ]
    },
    {
      role: 'Finance Team',
      system: 'Finance System',
      icon: 'üí∞',
      tasks: [
        { name:'Receive request', type:'wait', start:0, dur:0.3,
          info:'Analyst emails at 07:00. Finance team sees it when they arrive at 08:30. 90 minute lag before the work even starts.', tag:'wait', tagLabel:'Lag' },
        { name:'Run finance export', type:'manual', start:1.3, dur:0.6,
          info:'Manual export from finance system. Two approval steps required before data can leave the system. Data then sent as email attachment.', tag:'waste', tagLabel:'Manual' },
        { name:'Send to analyst', type:'manual', start:2.1, dur:0.1,
          info:'Attached as .xlsx to email. No version control. If analyst finds an error, the whole process restarts from here.', tag:'wait', tagLabel:'Handoff' },
      ]
    },
    {
      role: 'Ops Dashboard',
      system: 'Third-party tool',
      icon: 'üìä',
      tasks: [
        { name:'Screenshot KPIs', type:'manual', start:1.0, dur:0.4, pain:'üí¢',
          info:'No API access. Analyst takes screenshots of key metrics from the ops dashboard and pastes them as images into the report. Not searchable, not machine-readable.', tag:'waste', tagLabel:'Screenshots' },
        { name:'Manually type figures', type:'manual', start:1.5, dur:0.5, pain:'‚ö†Ô∏è',
          info:'Screenshots are not enough for the finance table, so key figures are manually typed in. This is the primary source of copy-paste errors.', tag:'waste', tagLabel:'Error prone' },
      ]
    },
    {
      role: 'Manager',
      system: 'Email / Slack',
      icon: 'üëî',
      tasks: [
        { name:'WAITING', type:'wait', start:0, dur:5.2,
          info:'Manager has no visibility into report progress. Occasionally chases. Unable to do anything with the numbers until the report arrives.', tag:'wait', tagLabel:'Blocked' },
        { name:'Review draft', type:'decision', start:5.2, dur:0.8,
          info:'Reviews complete report. Often finds formatting issues or stale data. Sends revision requests back to analyst. Average 1.2 revision cycles.', tag:'waste', tagLabel:'Rework loop' },
        { name:'Approve and send', type:'manual', start:6.2, dur:0.2,
          info:'Final approval. Report distributed to stakeholders. By this point it is 13:30 and the data is from Sunday EOD.', tag:'wait', tagLabel:'Finally done' },
      ]
    },
  ]
};

const AFTER = {
  title: 'Automated State: Self-Generating Weekly Report',
  meta: 'Monday 07:00 to 07:23 ‚ú¶ Click any block to inspect',
  titleClass: 'good',
  cols: 8,
  colLabels: ['00:00','07:00','07:05','07:08','07:12','07:18','07:20','07:23'],
  totalWidth: 8,
  impacts: [
    { num:'23 min', color:'var(--green)', ctx:'End-to-end, including any analyst review of anomalies' },
    { num:'1', color:'var(--green)', ctx:'One human touchpoint only: anomaly review when needed' },
    { num:'< 1h', color:'var(--green)', ctx:'Data extracted from live systems at 23:00 Sunday night' },
    { num:'< 1%', color:'var(--green)', ctx:'Validation rules catch errors before they reach the report' },
  ],
  insights: [
    { n:'23m', t:'Total time, start to send', b:'The pipeline runs overnight. By the time anyone arrives on Monday morning, the report is already in their inbox, populated with live data.' },
    { n:'3', t:'Systems connected via API', b:'CRM, finance system, and ops dashboard all queried directly. No human in the loop for data extraction. No email attachments.' },
    { n:'15m', t:'Analyst time when needed', b:'The only human input required: reviewing flagged anomalies. The system drafts the commentary, the analyst approves or edits. Strategic, not administrative.' },
  ],
  lanes: [
    {
      role: 'Pipeline',
      system: 'Automated / Scheduled',
      icon: '‚öôÔ∏è',
      tasks: [
        { name:'Schedule trigger fires', type:'instant', start:0, dur:0.3,
          info:'Sunday 23:00: cron job fires. No human action required. Pipeline initialises and begins parallel data extraction from all three systems.', tag:'value', tagLabel:'Automated' },
        { name:'Parallel data extraction', type:'auto', start:0.4, dur:0.6,
          info:'CRM, finance, and ops APIs called simultaneously. Not sequentially. Total extraction time under 45 seconds for all three systems.', tag:'value', tagLabel:'Parallel' },
        { name:'Schema validation', type:'auto', start:1.1, dur:0.3,
          info:'Every field validated against the defined schema: types, ranges, required fields, referential integrity. Errors flagged immediately with specific field details.', tag:'value', tagLabel:'Validated' },
        { name:'Data transformation', type:'auto', start:1.5, dur:0.3,
          info:'Date formats normalised to ISO8601. Currencies to ISO4217 codes. Customer IDs matched across systems via canonical reference table.', tag:'value', tagLabel:'Clean data' },
        { name:'Anomaly detection', type:'auto', start:1.9, dur:0.4,
          info:'Every metric compared to prior 4-week average. Anything outside ¬±15% flagged as ANOMALY, commentary prompt generated, analyst notified via Slack.', tag:'value', tagLabel:'Smart check' },
        { name:'Report generation', type:'auto', start:2.4, dur:0.5,
          info:'Template populated. Charts rendered from live data. PDF and interactive dashboard both generated. No copy-paste anywhere in this process.', tag:'value', tagLabel:'Generated' },
      ]
    },
    {
      role: 'CRM System',
      system: 'API Integration',
      icon: 'üîó',
      tasks: [
        { name:'API query: 7-day extract', type:'instant', start:0.4, dur:0.5,
          info:'Authenticated API call pulls all relevant records from past 7 days. Response includes structured JSON, no reformatting required.', tag:'value', tagLabel:'< 30 seconds' },
        { name:'Data delivered to pipeline', type:'system', start:0.9, dur:0.2,
          info:'Validated response written to pipeline staging area. Schema verified on receipt. Any missing fields trigger immediate error log entry.', tag:'value', tagLabel:'Instant' },
      ]
    },
    {
      role: 'Finance System',
      system: 'API Integration',
      icon: 'üîó',
      tasks: [
        { name:'API query: finance extract', type:'instant', start:0.4, dur:0.6,
          info:'Finance data pulled via read-only API token. No manual approval steps required. Budget variance calculated automatically against stored baseline.', tag:'value', tagLabel:'< 45 seconds' },
        { name:'Data delivered to pipeline', type:'system', start:1.0, dur:0.2,
          info:'Revenue actuals, variance, and cost centre data all available as structured objects. Currency normalisation applied on ingest.', tag:'value', tagLabel:'Instant' },
      ]
    },
    {
      role: 'Analyst',
      system: 'Slack + Review UI',
      icon: 'üë§',
      tasks: [
        { name:'Slack notification received', type:'instant', start:3.5, dur:0.3,
          info:'If anomalies were detected: analyst receives Slack message at 07:18 with exact metrics flagged, week-on-week delta, and a link to the review UI. Nothing to do if no anomalies.', tag:'value', tagLabel:'Only if needed' },
        { name:'Review anomaly commentary', type:'decision', start:3.9, dur:0.9,
          info:'Analyst reviews the system-drafted commentary for any flagged anomaly. Edits if needed, approves, and triggers final send. Average time: 12 minutes.', tag:'value', tagLabel:'Strategic work' },
      ]
    },
    {
      role: 'Distribution',
      system: 'Automated',
      icon: 'üì®',
      tasks: [
        { name:'Auto-distribute report', type:'auto', start:4.9, dur:0.4,
          info:'Report emailed to full distribution list. Slack summary posted to #weekly-report with headline metrics. Live dashboard updated with latest figures. Audit log written.', tag:'value', tagLabel:'Done by 07:23' },
      ]
    },
  ]
};

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   RENDER
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
let currentView = 'before';

function setView(view, btn) {
  currentView = view;
  document.querySelectorAll('.toggle-btn').forEach(b => b.classList.remove('active'));
  btn.classList.add('active');
  renderAll(view === 'before' ? BEFORE : AFTER);
}

function renderAll(data) {
  renderImpact(data);
  renderSwimlane(data);
  renderInsights(data);
}

function renderImpact(data) {
  const ids = ['imp1','imp2','imp3','imp4'];
  const ctxIds = ['imp1c','imp2c','imp3c','imp4c'];
  data.impacts.forEach((imp, i) => {
    const el = document.getElementById(ids[i]);
    const ctx = document.getElementById(ctxIds[i]);
    el.textContent = imp.num;
    el.style.color = imp.color;
    ctx.textContent = imp.ctx;
  });
}

function renderInsights(data) {
  const ids = [['ins1n','ins1t','ins1b'],['ins2n','ins2t','ins2b'],['ins3n','ins3t','ins3b']];
  data.insights.forEach((ins, i) => {
    document.getElementById(ids[i][0]).textContent = ins.n;
    document.getElementById(ids[i][1]).textContent = ins.t;
    document.getElementById(ids[i][2]).textContent = ins.b;
  });
}

function renderSwimlane(data) {
  const board = document.getElementById('swimlane-board');

  // Update header
  document.getElementById('sl-title').textContent = data.title;
  document.getElementById('sl-title').className = 'sl-title ' + data.titleClass;
  document.getElementById('sl-meta').textContent = data.meta;

  // Update time axis
  const axis = document.getElementById('time-axis');
  axis.style.gridTemplateColumns = `repeat(${data.cols}, 1fr)`;
  axis.innerHTML = data.colLabels.map(l => `<div class="time-cell">${l}</div>`).join('');

  // Render lanes
  const container = document.getElementById('lanes-container');
  container.innerHTML = '';

  data.lanes.forEach((lane, li) => {
    const laneEl = document.createElement('div');
    laneEl.className = 'swimlane';
    laneEl.style.animationDelay = `${li * 0.08}s`;

    const label = `
      <div class="lane-label">
        <div class="lane-icon">${lane.icon}</div>
        <div class="lane-role">${lane.role}</div>
        <div class="lane-system">${lane.system}</div>
      </div>`;

    let tasksHTML = `<div class="lane-body" style="position:relative;">`;
    lane.tasks.forEach(task => {
      const left = (task.start / data.totalWidth * 100).toFixed(2);
      const width = (task.dur / data.totalWidth * 100).toFixed(2);
      const painEl = task.pain ? `<div class="task-pain">${task.pain}</div>` : '';
      const taskData = JSON.stringify({name:task.name, info:task.info, tag:task.tag, tagLabel:task.tagLabel||''});
      tasksHTML += `
        <div class="task task-${task.type}"
          style="left:${left}%;width:${width}%;min-width:60px;"
          onmouseenter="showTT(event,${taskData.replace(/"/g,"'")})"
          onmouseleave="hideTT()">
          ${painEl}
          <div class="task-name">${task.name}</div>
          <div class="task-dur">${(task.dur * 60).toFixed(0)} min</div>
        </div>`;
    });
    tasksHTML += `</div>`;

    laneEl.innerHTML = label + tasksHTML;
    container.appendChild(laneEl);
  });
}

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   TOOLTIP
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
function showTT(e, data) {
  const tt = document.getElementById('tooltip');
  const tagColors = { waste:'tt-waste', wait:'tt-wait', value:'tt-value' };
  const tagClass = tagColors[data.tag] || 'tt-value';
  tt.innerHTML = `
    <div class="tt-title">${data.name}</div>
    <div class="tt-body">${data.info}</div>
    ${data.tagLabel ? `<span class="tt-tag ${tagClass}">${data.tagLabel}</span>` : ''}`;
  tt.style.left = (e.clientX + 16) + 'px';
  tt.style.top = (e.clientY - 10) + 'px';
  tt.classList.add('show');
}

function hideTT() {
  document.getElementById('tooltip').classList.remove('show');
}

document.addEventListener('mousemove', e => {
  const tt = document.getElementById('tooltip');
  if (tt.classList.contains('show')) {
    tt.style.left = (e.clientX + 16) + 'px';
    tt.style.top = (e.clientY - 10) + 'px';
  }
});

// Init
renderAll(BEFORE);
</script>
</body>
</html>
